# 이진트리

**이진트리란** 트리의 모든 노드의 차수를 2 이하로 제한하여 전체 트리의 차수가 2 이하가 되도록 정의한 것이다.
또한, 이진 트리에 이쓴 모든 노드는 왼쪽 자식 노드를 루트로 하는 왼쪽 서브 트리와 오른쪽 자식 노드를 루트로하는 오른쪽 서브트리를 갖는다. 이진 트리는 부모 노드-자식 노드의 관계가 하위 레벨에서도 순환 반복되는 계층 구조이므로 이진 트리의 각 서브 트리 역시 이진 트리여야 한다. 서브트리 부터 루트까지의 **_노드의 높이를_** 노드의 레벨이라고 하며 일반적으로는 0부터 카운팅한다. 
또한, 일반트리는 이진트리로 변환이 가능하다.

**일반트리를 이진트리로 변환하는 방법** <br>
  1. 루트에서 첫 번째 자식 노드로의 간선만 남겨두고 나머지 자식 노드의 간선을 제거한다.
  2. 형제 노드끼리 간선을 연결한다.
  3. 간선이 연결된 후 트리를 시계방향으로 45도 회전한다.
 
 
 **이진트리의 특성**
  - 노드가 n개인 이진 트리는 항상 간선이 n-1개 이다.
  - 높이가 h인 이진 트리가 가질 수 있는 노드 개수는 최소 (h+1)개이며, 최대 2의 (h+1승) - 1개이다.
 
  **이진트리의 종류** <br>
  ![binary image](https://t1.daumcdn.net/cfile/tistory/992164335A05B1E21E)


# 이진 탐색 트리 <br>
![binary_image2](https://api.ahribori.com/image/wK-MdTbYsuQscBYL4TFVJm_p.png)
이진 탐색 트리는 트리를 탐색용 자료구조로 사용하기 위해 원소 크기에 따라 노드 위치를 정의한 것이다.
이진 탐색 트리의 특징으로는

  **1. 모든 원소는 서로 다른 유일한 키를 갖는다.
  **2. 왼쪽 서브 트리에 있는 원소들의 키는 루트의 키보다 작다.
  **3. 오른쪽 서브 트리에 있는 원소들의 키는 루트의 키보다 크다.
  **4. 왼쪽 서브 트리와 오른쪽 서브트리도 이진 탐색 트리이다.**

라는 특징이 있다.

**이진 탐색 트리의 탐색 연산** <br>
  
  *- 키값 = 루트 노드의 값 : 원하는 원소를 찾았기 때문에 탐색 종료.*
  *- 키값 > 루트 노드의 값 : 원하는 원소가 루트 노드의 값 보다 크기 때문에 루트 노드의 오른쪽 서브트리로 이동 후 탐색*
  *- 키값 < 루트 노드의 값 : 원하는 원소가 루트 노드의 값 보다 작기 떄문에 루트 노드의 왼쪽 서브트리로 이동 후 탐색*

**이진 탐색 트리의 삽입 연산** <br>
  
  - 삽입하려고 하는 원소가 존재하는지 확인.
  - 탐색 연산을 실행하여 성공하면 이미 원소가 존재한다는 의미이므로 삽입 연산을 수행하지 않고 종료.
  - 탐색 연산을 실행하여 실패하면 해당 원소가 존재하지 않는다는 의미이므로 탐색 실패가 발생한 위치에 원소 삽입.

**이진 탐색 트리의 삭제 연산** <br>

*삭제할 노드의 위치를 탐색* <br>
  **1. 삭제할 노드가 단말 노드인 경우(차수 = 0)**
    - 해당 노드를 삭제하고 부모 노드의 링크 필드를 Null로 설정한다.
  
 **2. 삭제할 노드가 자식 노드를 1개 가진 경우(차수 = 1)**
    - 해당 노드를 삭제하고 나면 *해당 노드의 자식 노드가* **고아노드(leaf node)가** 된다. <br>
    - 따라서 해당 노드를 삭제하고 루트 노드의 링크 필드를 *해당 노드의 자식노드*와 연결해준다.

 **3. 삭제할 노드가 자식 노드를 2개 가진 경우(차수 = 2)**
    - 해당 노드를 삭제할 때 전체 자손 노드 중 후계자를 찾는다.
    - 이 과정에서 노드가 삭제되고 자손 노드의 트리가 유지되어야 하기때문에 왼쪽 서브트리에서 가장 큰 값, 혹은 오른쪽 노드에서 가장 작은 값을 후계자로 선택해야 한다.
    - **왼쪽 서브 트리에서 가장 큰 키값의 노드를 탐색하는 과정** *왼쪽 서브 트리의 오른쪽 링크를 따라 계속 이동하여 오른쪽 링크 필드가 NULL인 노드(즉, 왼쪽 서브트리에서 가장 오른쪽에 있는 노드)를 찾는다.* 
    **오른쪽 서브 트리에서 가장 작은 키 값의 노드를 탐색하는 과정**  *오른쪽 서브 트리에서 가장 작은 키값의 노드를 왼쪽 링크 필드가 NULL인 노드를 찾는다.* 에서 선택한다.
     
    이 과정에서 무엇을 선택하든 선택된 후계자 노드가 삭제된 조상 노드 자리로 올라가면 후계자 노드가 있던 자리가 공백이 되어 후계자의 자식 노드가 고아노드가 되어버린다.
    따라서 후계자 자식들이 고아가 되지 않도록 후계자의 자리에 자식 노드를 이동시켜 연결하는 후속 처리 작업이 필요하다.


# AVL트리
----------------

**AVL트리는 무엇일까?**

**AVL트리는** 좌우의 균형을 맞추어 탐색을 좀 더 용이하게 한 이진트리의 한 종류이다.
왼쪽 서브 트리의 높이 HL(Height of Left subtree)와 오른쪽 서브트리의 높이 HR(Height of Right subtree)의 차이가 1 이하인 트리이며 아래와 같은 특징이 있다.

**AVL트리의 특징**

*균형인수(BF) = 왼쪽 서브트리의 높이(HL) - 오른쪽 서브트리의 높이(HR)*

  - 왼쪽 서브 트리 < 부모 노드 < 오른쪽 서브 트리의 크기 관계를 가짐.
  - 균형인수(BF)는 {-1, 0 , 1}의 값만 가지게 하여 왼쪽 서브 트리와 오른쪽 서브 트리의 균형을 항상 유지함

AVL트리는 삽입, 삭제 연산에 의해 균형이 깨지는 경우가 있는데, 
AVL의 균형이 깨진 경우는 아래 4가지로 나눌 수 있다.

### AVL의 균형이 꺠진 예

- **LL**
![LL](https://itwiki.kr/images/thumb/2/27/AVL_LL_Rotation.png/900px-AVL_LL_Rotation.png)
  불균형 발생 노드의 왼쪽 자식 노드와 자식의 왼쪽 자식 노드에 의해 왼쪽으로 치우침.
  
- **RR**
![RR](https://itwiki.kr/images/thumb/f/f1/AVL_RR_Rotation.png/900px-AVL_RR_Rotation.png)
  불균형 발생 노드의 오른쪽 자식 노드와 자식의 오른쪽 자식 노드에 의해 오른쪽으로 치우침.

- **LR**
![LR](https://itwiki.kr/images/thumb/8/8f/AVL_LR_Rotation.png/900px-AVL_LR_Rotation.png)
  불균형 발생 노드의 왼쪽 자식 노드와 자식의 오른쪽 자식 노드에 의해 왼쪽 서브 트리가 치우침.

- **RL**
![RL](https://itwiki.kr/images/thumb/6/60/AVL_RL_Rotation.png/900px-AVL_RL_Rotation.png)
  불균형 발생 노드의 오른쪽 자식 노드와 자식의 왼쪽 자식 노드에 의해 오른쪽 서브 트리가 치우침.

